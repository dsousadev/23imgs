(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){e.exports=a(367)},212:function(e,t,a){},367:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(24),i=a.n(l),c=(a(212),a(178)),r=a(75),s=a(179),u=a(80),m=a(76),p=a(81),g=a(180),d=a.n(g),h=a(368),b=function(e){return o.a.createElement("div",{className:"Header"},o.a.createElement("div",{className:"title"},"23imgs",o.a.createElement(h.a,{className:"About",size:"mini",circular:!0,icon:"question",onClick:function(){e.toggleModal("aboutModalOpen")}})),e.uploadVisible&&o.a.createElement(d.a,{className:"ImageUploader",withIcon:!0,onChange:e.onDrop,buttonText:"Upload Image",singleImage:!0,imgExtension:[".jpg",".png",".gif",".jpeg"],label:"Max File Size: 10mb | Format: jpg / png / gif",maxFileSize:1e7}))},f=function(e){return o.a.createElement("div",{className:"ImageCard"},o.a.createElement("img",{id:"CardImage",src:"data:image/jpeg;base64,"+e.base64,alt:"img"}),o.a.createElement("div",{className:"CaptionArea"},o.a.createElement("div",{className:"CaptionText"},o.a.createElement("p",null,e.caption))))},E=a(374),w=function(e){return o.a.createElement(E.a,{dimmer:"blurring",open:e.open},o.a.createElement(E.a.Header,null,"About"),o.a.createElement(E.a.Content,null,o.a.createElement(E.a.Description,null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("h2",null,"23imgs is a simple web application built with React.")),o.a.createElement("li",null,"Anyone can post an image, only the 23 most recent are posted."),o.a.createElement("li",null,'You cannot delete an image once you post it, it will be removed when it is the "24th" image.'),o.a.createElement("li",null,"Code for both the React front-end and Node back-end can be found on:"," ",o.a.createElement("a",{href:"http://www.github.com/dsousadev"},"Github"))))),o.a.createElement(E.a.Actions,null,o.a.createElement(h.a,{color:"teal",icon:"times",circular:!0,onClick:function(){e.toggleModal("aboutModalOpen")}})))},v=a(376),M=a(373),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={caption:"",charsRemaining:60},a.handleInput=function(e){var t=60-e.target.value.length;a.setState({caption:e.target.value,charsRemaining:t})},a.keyPress=function(e){var t=e;t||(t={keyCode:13}),13===t.keyCode&&a.state.charsRemaining>=0&&a.props.toggleModal("captionModalOpen",a.state.caption)},a.render=function(){return o.a.createElement(E.a,{dimmer:"blurring",open:a.props.open},o.a.createElement(E.a.Header,null,"Caption Your Photo (60 character limit)"),o.a.createElement(E.a.Content,null,o.a.createElement(E.a.Description,null,o.a.createElement(v.a,null,a.state.charsRemaining," characters remaining"),o.a.createElement(M.a,{fluid:!0,placeholder:"Caption Here",value:a.state.caption,onChange:a.handleInput,onKeyDown:a.keyPress,action:{color:"teal",content:"Submit",onClick:function(){a.keyPress()}}}))))},a}return Object(p.a)(t,e),t}(o.a.Component),y=function(e){return o.a.createElement(E.a,{blurred:"true",open:e.open,size:"small"},o.a.createElement(v.a,{icon:"warning circle",content:"Image too small"}),o.a.createElement(E.a.Content,null,o.a.createElement("p",null,"Please make sure your image is at least 614 x 614 pixels")),o.a.createElement(E.a.Actions,null,o.a.createElement(h.a,{color:"teal",onClick:function(){e.toggleModal("warningVisible")}},"Okay")))},C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={count:0,images:[],captionModalOpen:!1,aboutModalOpen:!1,uploadVisible:!0,warningVisible:!1,url:"https://api-23imgs.7e14.starter-us-west-2.openshiftapps.com"},a.fetchImages=function(){fetch(a.state.url+"/images/").then(function(e){return e.json()}).then(function(e){var t=e[0].number,n=!0;a.state.upload&&(n=!1),a.setState({images:e,count:t,uploadVisible:n})}).catch(function(e){return console.log(e)})},a.toggleModal=function(e,t){a.setState(function(t){return Object(c.a)({},e,!t[e])},function(){"captionModalOpen"!==e||a.state.captionModalOpen||a.uploadImage(t)})},a.uploadImage=function(e){var t=new FormData;t.append("file",a.state.upload),t.append("caption",e),t.append("number",a.state.count+1),fetch(a.state.url+"/upload/",{method:"POST",body:t}).then(function(e){a.fetchImages()}).catch(function(e){return console.log(e)})},a.onDrop=function(e){(e=e[e.length-1])&&(e.size>25e3?a.setState({upload:e},function(){a.toggleModal("captionModalOpen")}):e.size<25e3&&a.toggleModal("warningVisible"))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchImages()}},{key:"render",value:function(){var e=this.state.images.map(function(e){return o.a.createElement(f,{base64:e.base64,caption:e.caption,key:e.number})});return o.a.createElement("div",{className:"App"},o.a.createElement(b,{onDrop:this.onDrop,toggleModal:this.toggleModal,uploadVisible:this.state.uploadVisible}),o.a.createElement(O,{open:this.state.captionModalOpen,toggleModal:this.toggleModal}),o.a.createElement(w,{open:this.state.aboutModalOpen,toggleModal:this.toggleModal}),o.a.createElement(y,{open:this.state.warningVisible,toggleModal:this.toggleModal}),e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[207,1,2]]]);
//# sourceMappingURL=main.7ed586b0.chunk.js.map